6541a89a206cfbca11936e2305459303
_getJestObj().mock('axios');

function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");

  _getJestObj = () => jest;

  return jest;
}

import axios from 'axios';
import { fetchData, API } from './FetchData';
describe('fetchData', () => {
  it('fetches successfully data from an API', async () => {
    const data = {
      data: {
        hits: [{
          objectID: '1',
          title: 'a'
        }, {
          objectID: '2',
          title: 'b'
        }]
      }
    };
    axios.get.mockImplementationOnce(() => Promise.resolve(data));
    await expect(fetchData('react')).resolves.toEqual(data);
    expect(axios.get).toHaveBeenCalledWith(`${API}/search?query=react`);
  });
  it('fetches erroneously data from an API', async () => {
    const errorMessage = 'Network Error';
    axios.get.mockImplementationOnce(() => Promise.reject(new Error(errorMessage)));
    await expect(fetchData('react')).rejects.toThrow(errorMessage);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkZldGNoRGF0YS50ZXN0LmpzIl0sIm5hbWVzIjpbIm1vY2siLCJheGlvcyIsImZldGNoRGF0YSIsIkFQSSIsImRlc2NyaWJlIiwiaXQiLCJkYXRhIiwiaGl0cyIsIm9iamVjdElEIiwidGl0bGUiLCJnZXQiLCJtb2NrSW1wbGVtZW50YXRpb25PbmNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJleHBlY3QiLCJyZXNvbHZlcyIsInRvRXF1YWwiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsImVycm9yTWVzc2FnZSIsInJlamVjdCIsIkVycm9yIiwicmVqZWN0cyIsInRvVGhyb3ciXSwibWFwcGluZ3MiOiJBQUlBLGNBQUtBLElBQUwsQ0FBVSxPQUFWOzs7Ozs7Ozs7Ozs7QUFKQSxPQUFPQyxLQUFQLE1BQWtCLE9BQWxCO0FBRUEsU0FBU0MsU0FBVCxFQUFvQkMsR0FBcEIsUUFBK0IsYUFBL0I7QUFJQUMsUUFBUSxDQUFDLFdBQUQsRUFBYyxNQUFNO0FBQ3hCQyxFQUFBQSxFQUFFLENBQUMsdUNBQUQsRUFBMEMsWUFBWTtBQUNwRCxVQUFNQyxJQUFJLEdBQUc7QUFDVEEsTUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLFFBQUFBLElBQUksRUFBRSxDQUNGO0FBQ0lDLFVBQUFBLFFBQVEsRUFBRSxHQURkO0FBRUlDLFVBQUFBLEtBQUssRUFBRTtBQUZYLFNBREUsRUFLRjtBQUNJRCxVQUFBQSxRQUFRLEVBQUUsR0FEZDtBQUVJQyxVQUFBQSxLQUFLLEVBQUU7QUFGWCxTQUxFO0FBREo7QUFERyxLQUFiO0FBZUFSLElBQUFBLEtBQUssQ0FBQ1MsR0FBTixDQUFVQyxzQkFBVixDQUFpQyxNQUFNQyxPQUFPLENBQUNDLE9BQVIsQ0FBZ0JQLElBQWhCLENBQXZDO0FBRUEsVUFBTVEsTUFBTSxDQUFDWixTQUFTLENBQUMsT0FBRCxDQUFWLENBQU4sQ0FBMkJhLFFBQTNCLENBQW9DQyxPQUFwQyxDQUE0Q1YsSUFBNUMsQ0FBTjtBQUVBUSxJQUFBQSxNQUFNLENBQUNiLEtBQUssQ0FBQ1MsR0FBUCxDQUFOLENBQWtCTyxvQkFBbEIsQ0FDSyxHQUFFZCxHQUFJLHFCQURYO0FBR0gsR0F2QkMsQ0FBRjtBQXlCQUUsRUFBQUEsRUFBRSxDQUFDLHNDQUFELEVBQXlDLFlBQVk7QUFDbkQsVUFBTWEsWUFBWSxHQUFHLGVBQXJCO0FBRUFqQixJQUFBQSxLQUFLLENBQUNTLEdBQU4sQ0FBVUMsc0JBQVYsQ0FBaUMsTUFDN0JDLE9BQU8sQ0FBQ08sTUFBUixDQUFlLElBQUlDLEtBQUosQ0FBVUYsWUFBVixDQUFmLENBREo7QUFJQSxVQUFNSixNQUFNLENBQUNaLFNBQVMsQ0FBQyxPQUFELENBQVYsQ0FBTixDQUEyQm1CLE9BQTNCLENBQW1DQyxPQUFuQyxDQUEyQ0osWUFBM0MsQ0FBTjtBQUNILEdBUkMsQ0FBRjtBQVNILENBbkNPLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5cclxuaW1wb3J0IHsgZmV0Y2hEYXRhLCBBUEkgfSBmcm9tICcuL0ZldGNoRGF0YSc7XHJcblxyXG5qZXN0Lm1vY2soJ2F4aW9zJyk7XHJcblxyXG5kZXNjcmliZSgnZmV0Y2hEYXRhJywgKCkgPT4ge1xyXG4gICAgaXQoJ2ZldGNoZXMgc3VjY2Vzc2Z1bGx5IGRhdGEgZnJvbSBhbiBBUEknLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgaGl0czogW1xyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0SUQ6ICcxJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdhJyxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0SUQ6ICcyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdiJyxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBheGlvcy5nZXQubW9ja0ltcGxlbWVudGF0aW9uT25jZSgoKSA9PiBQcm9taXNlLnJlc29sdmUoZGF0YSkpO1xyXG5cclxuICAgICAgICBhd2FpdCBleHBlY3QoZmV0Y2hEYXRhKCdyZWFjdCcpKS5yZXNvbHZlcy50b0VxdWFsKGRhdGEpO1xyXG5cclxuICAgICAgICBleHBlY3QoYXhpb3MuZ2V0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcclxuICAgICAgICAgICAgYCR7QVBJfS9zZWFyY2g/cXVlcnk9cmVhY3RgLFxyXG4gICAgICAgICk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnZmV0Y2hlcyBlcnJvbmVvdXNseSBkYXRhIGZyb20gYW4gQVBJJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICdOZXR3b3JrIEVycm9yJztcclxuXHJcbiAgICAgICAgYXhpb3MuZ2V0Lm1vY2tJbXBsZW1lbnRhdGlvbk9uY2UoKCkgPT5cclxuICAgICAgICAgICAgUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGVycm9yTWVzc2FnZSkpLFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGF3YWl0IGV4cGVjdChmZXRjaERhdGEoJ3JlYWN0JykpLnJlamVjdHMudG9UaHJvdyhlcnJvck1lc3NhZ2UpO1xyXG4gICAgfSk7XHJcbn0pO1xyXG4iXX0=